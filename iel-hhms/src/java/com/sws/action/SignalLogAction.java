package com.sws.action;import java.util.List;import org.springframework.beans.factory.annotation.Autowired;import com.opensymphony.xwork2.ActionContext;import com.sws.common.AjaxUtil;import com.sws.common.baseAction.BaseAction;import com.sws.common.statics.SysStatics;import com.sws.model.SignalLog;import com.sws.service.SignalLogService;import com.sys.core.util.JsonUtils;public class SignalLogAction extends BaseAction<SignalLog> {		private static final long serialVersionUID = -2868312613376378663L;	@Autowired	private SignalLogService signalLogService;	private String deviceTypeStr;	private String deviceNo;	/**	 * 进入列表	 * 	 */	public String list() {	    ActionContext.getContext().put("logEventTypeMap", SysStatics.logEventTypeMap);	    ActionContext.getContext().put("logDeviceTypeMap", SysStatics.logDeviceTypeMap);		return PAGE;	}	/**	 * 列表显示  心跳包和校时是Ap上报的，欠压是谁欠压就是谁上报，其他的情况都是识别器上报的	 * @return	 */	@SuppressWarnings("unchecked")	public void listAjax() {        page = signalLogService.pageByEvent(queryEntity, _page, rowNum, sortname,sortorder);        if(null!=page){        	List<SignalLog> logs=(List<SignalLog>)page.getResult();        	if(logs.size()>0){        		for(SignalLog log:logs){        			if(log.getRfid().equals("000000")){        				log.setRfid("NC");        			}        			if(log.getRfid().equals(log.getDeviceNo())){        				log.setDeviceNo("NC");        			}        			if(log.getEventType()!=null){    					log.setEventTypeName(SysStatics.logEventTypeMap.get(log.getEventType()));	    				}        			if(log.getDeviceType()!=null){        				log.setDeviceTypeName(SysStatics.logDeviceTypeMap.get(log.getDeviceType()));        			}                                   }        	}                    }		AjaxUtil.ajaxWrite(JsonUtils.object2Json(page));	}	public String getDeviceTypeStr() {		return deviceTypeStr;	}	public void setDeviceTypeStr(String deviceTypeStr) {		this.deviceTypeStr = deviceTypeStr;	}	public String getDeviceNo() {		return deviceNo;	}	public void setDeviceNo(String deviceNo) {		this.deviceNo = deviceNo;	}			}