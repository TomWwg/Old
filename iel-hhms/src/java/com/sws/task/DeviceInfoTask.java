package com.sws.task;import java.util.Date;import java.util.List;import org.springframework.beans.factory.annotation.Autowired;import com.gk.essh.core.task.AbstractTaskEntity;import com.sws.dao.DeviceInfoDao;import com.sws.model.DeviceInfo;import com.sws.service.DeviceInfoService;public class DeviceInfoTask extends AbstractTaskEntity{	@Autowired	private DeviceInfoService deviceInfoService;	@Autowired    private DeviceInfoDao deviceInfoDao;	@Override	public void run() {		List<DeviceInfo> list = deviceInfoDao.getAll();		for(DeviceInfo deviceInfo : list){		Long  time	= (new Date()).getTime() - deviceInfo.getUpdateTime().getTime();		int day =(int)(time/(24 * 60 * 60 * 1000));		if( day>=1 && deviceInfo.getDeviceStatus()!=3){			deviceInfo.setDeviceStatus(3);			deviceInfoService.update(deviceInfo);		}				if(day<1 && deviceInfo.getDeviceStatus()==3){			deviceInfo.setDeviceStatus(0);			deviceInfoService.update(deviceInfo);		}		}			}}