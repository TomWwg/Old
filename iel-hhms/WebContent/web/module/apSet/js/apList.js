var rows=30;// DOM加载完后执行$(function() {	setGridHeight1();//设置列表高度自适应	$('#table').grid({		  colName: ['设备编号', '设备IP', '设备状态','修改时间','设置'],		  colModel: [            {name: 'no', index:'no', style: {'textAlign':'center'}},            {name: 'ip', index:'ip', style: {'textAlign':'center'}},            {name: 'apStatus', index:'apStatus', sortable:false, style:{'textAlign': 'center'},              	formart : function(dataRow, data, fn){              		if(dataRow == 0){ //值为0时，状态正常              			return'<font color="blue">正常</font>';              		} if(dataRow == 1){ //断开              			return'<font color="red">断开</font>';              		}  		  		}		    },		    {name: 'updateTime', index:'updateTime', style: {'textAlign': 'center'}},		    {name: 'no', index:'no',sortable:true, style: {'textAlign':'center'},				  formart : function(dataRow, data, fn){					 return '<a href="javascript:void(0); " onclick="apNoSetDialog('+data.id+')" style="text-decoration:underline;">'+'AP设置'+"</a>";				  }				}		  ],		  headerFixed : true,		  rowNum: rows,		  rowMark : true,		  height : '100%',		  sortname: 'updateTime',		  sortorder: 'desc',		  ajaxOptions : {		     type : 'post'		  } ,		  dataType: 'ajax',		  url : 'queryApListAjax.action',		  pager: '#dataTablePage',		  pagerFixed: true,		  ajaxDynamic : function(){ 	  		  return $('#filterForm').formToArray();  	  	  },		  ajaxResponseReader: {page:'pageNo', rows:'result', records: 'total', totalPage:'totalPage'}		});		//查询	$("#data_filtering").click(function(){		$('#table').grid('reload');	});	      });  //ap编号设置function apNoSetDialog(dataId){	$.dialog({		width: 800,        height: 600,        maybeRefresh: true,        id: 'apNoSet',        title: 'AP设置',        iframeSrc: top.pt.ctx+'/web/module/apSet/apSetDialog.action?ids='+dataId,        close: function(event, ui) {         	$('#table').grid('reload');        }    });};//删除$("#del_btn").click(function(){	var selected = [];	var selTabIds =  $('#table').grid('getSelRow');	var datas = $('#table').grid('getDataByID', selTabIds);	for(var i=0; i<datas.length; i++){		selected.push(datas[i].id);	}	if (datas.length == 0) {        jAlert('当前没有选中的项！', '提示', 'attention');        return;    };    jConfirm('确定要删除当前记录吗？','提示',function(r){        if(r){       	  $.ajax({             	url : 'delData.action',             	type : "POST",             	dataType : "json",             	data : {             		ids : selected.join(",")             	},             	beforeSend : function(){					loader.show('正在处理，请稍后...');				},             	success : function(data, callback){					if (data.success == true) {						jAlert("删除成功！", '提示', 'attention');    					$('#table').grid('reload');					}else {						jAlert("删除失败："+data.message, '错误', 'error');					}				},        		complete : function() {					loader.hide();				}             })        }    });	      });  